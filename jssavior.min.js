!function(){"use strict";var a={version:.1,config:{id:"",keepConsoleErrors:!0,url:window.location.protocol+"//jssavior.com/api/send/"},init:function(){var a=this;a.setConfig(),window.onerror=function(b,c,d,e,f){return a.handleError({column:e,errorObj:f,file:c,line:d,message:b})}},handleError:function(a){var b=this;return this.config.id?a.message.indexOf("Script error.")>-1?!b.config.keepConsoleErrors:(a.domain=location.hostname,a.project=b.config.id,a.url=document.URL,a.userAgent=navigator.userAgent,a.version=b.version,a.errorObj&&a.errorObj.message&&a.errorObj.stack&&(a.stack={message:a.errorObj.message,stack:a.errorObj.stack},delete a.errorObj),b.postErrorData(a),!b.config.keepConsoleErrors):!b.config.keepConsoleErrors},handleResult:function(a){try{if(4==a.readyState)if(200===a.status){if(!JSON||!JSON.parse||!a.responseText)return null;var b=JSON.parse(a.responseText);"error"==b.status&&console.log("Javascript error cannot be logged: "+b.reason)}else console.log("JSSavior: Service unavailable")}catch(c){}},postErrorData:function(a){var b=this;if(b.config.url){a.clientInfo={};var c;c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),c.open("POST",b.config.url,!0),c.setRequestHeader("Content-Type","application/json"),c.onreadystatechange=function(){b.handleResult(c)},c.send(JSON.stringify(a))}},setConfig:function(){var a=this;"undefined"==typeof console&&(console={log:function(){}}),JSSaviorConfig&&("undefined"!=typeof JSSaviorConfig.keepConsoleErrors&&(a.config.keepConsoleErrors=JSSaviorConfig.keepConsoleErrors),"undefined"!=typeof JSSaviorConfig.projectId&&(a.config.id=JSSaviorConfig.projectId)),this.config.id||console.log("JSSavior: You need to provide an account id")}};a.init()}(window.jQuery);